{"ast":null,"code":"import React from'react';import UserProfile from'../UserProfile/UserProfile.tsx';import'./Header.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{language,onLanguageChange,cartItemsCount,onCartClick,onAdminClick,onLoginClick,isLoggedIn,userType,userName,userEmail,onLogout}=_ref;const[clickCount,setClickCount]=React.useState(0);const[lastClickTime,setLastClickTime]=React.useState(0);const[showProfile,setShowProfile]=React.useState(false);const handleTitleClick=()=>{if(!isLoggedIn){const now=Date.now();if(now-lastClickTime<500){// Less than 500ms between clicks\nsetClickCount(prev=>prev+1);if(clickCount>=4){// 5 rapid clicks total\nonLoginClick();setClickCount(0);}}else{setClickCount(1);}setLastClickTime(now);// Reset counter after 2 seconds of inactivity\nsetTimeout(()=>{setClickCount(0);},2000);}};const texts={ar:{title:'ŸÅŸÉŸáÿßŸÜŸä ÿßŸÑŸÉŸàŸäÿ™',subtitle:'ÿ£ŸÅÿ∂ŸÑ ÿßŸÑŸÅŸàÿßŸÉŸá ŸàÿßŸÑÿÆÿ∂ÿßÿ± ÿßŸÑÿ∑ÿßÿ≤ÿ¨ÿ©',phone:'98899426',cart:'ÿßŸÑÿ≥ŸÑÿ©',admin:'ÿßŸÑÿ•ÿØÿßÿ±ÿ©',login:'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ'},en:{title:'Fakahani Kuwait',subtitle:'Fresh Fruits & Vegetables',phone:'98899426',cart:'Cart',admin:'Admin Panel',login:'Login'}};const currentTexts=texts[language];return/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-brand\",onClick:handleTitleClick,style:{cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.jpeg\",alt:currentTexts.title,className:\"header-logo\",onError:e=>{// Try PNG if JPEG fails\nif(e.currentTarget.src.includes('.jpeg')){e.currentTarget.src='/images/logo.png';}else{// Fallback to text if both fail\ne.currentTarget.style.display='none';const fallbackElement=e.currentTarget.nextElementSibling;if(fallbackElement){fallbackElement.style.display='block';}}}}),/*#__PURE__*/_jsx(\"h1\",{className:\"header-title fallback-title\",style:{display:'none'},children:currentTexts.title})]}),/*#__PURE__*/_jsx(\"p\",{className:\"header-subtitle\",children:currentTexts.subtitle}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-phone\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"phone-icon\",children:\"\\uD83D\\uDCDE\"}),/*#__PURE__*/_jsx(\"span\",{className:\"phone-number\",children:currentTexts.phone})]})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"header-nav\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"language-toggle\",onClick:()=>onLanguageChange(language==='ar'?'en':'ar'),children:language==='ar'?'EN':'ÿπÿ±ÿ®Ÿä'}),/*#__PURE__*/_jsxs(\"button\",{className:\"cart-button\",onClick:onCartClick,children:[/*#__PURE__*/_jsx(\"span\",{className:\"cart-icon\",children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cart-text\",children:currentTexts.cart}),cartItemsCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"cart-count\",children:cartItemsCount})]}),isLoggedIn?/*#__PURE__*/_jsxs(\"div\",{className:\"user-section\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"user-button\",onClick:()=>setShowProfile(!showProfile),children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-icon\",children:userType==='admin'?'üëë':'üë§'}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:userName}),/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-arrow\",children:\"\\u23F7\"})]}),showProfile&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-dropdown\",children:/*#__PURE__*/_jsx(UserProfile,{language:language,userType:userType,userName:userName,userEmail:userEmail,onLogout:()=>{setShowProfile(false);onLogout();},onAdminPanel:userType==='admin'?()=>{setShowProfile(false);onAdminClick();}:undefined})})]}):/*#__PURE__*/_jsxs(\"button\",{className:\"login-button\",onClick:onLoginClick,children:[/*#__PURE__*/_jsx(\"span\",{className:\"login-icon\",children:\"\\uD83D\\uDD11\"}),/*#__PURE__*/_jsx(\"span\",{className:\"login-text\",children:currentTexts.login})]})]})]})});};export default Header;","map":{"version":3,"names":["React","UserProfile","jsx","_jsx","jsxs","_jsxs","Header","_ref","language","onLanguageChange","cartItemsCount","onCartClick","onAdminClick","onLoginClick","isLoggedIn","userType","userName","userEmail","onLogout","clickCount","setClickCount","useState","lastClickTime","setLastClickTime","showProfile","setShowProfile","handleTitleClick","now","Date","prev","setTimeout","texts","ar","title","subtitle","phone","cart","admin","login","en","currentTexts","className","children","onClick","style","cursor","src","alt","onError","e","currentTarget","includes","display","fallbackElement","nextElementSibling","onAdminPanel","undefined"],"sources":["/Users/mac/Documents/GitHub/fruits/src/components/Header/Header.tsx"],"sourcesContent":["import React from 'react';\nimport { Language } from '../../types';\nimport UserProfile from '../UserProfile/UserProfile.tsx';\nimport './Header.css';\n\ninterface HeaderProps {\n  language: Language;\n  onLanguageChange: (lang: Language) => void;\n  cartItemsCount: number;\n  onCartClick: () => void;\n  onAdminClick: () => void;\n  onLoginClick: () => void;\n  isLoggedIn: boolean;\n  userType?: 'admin' | 'user';\n  userName?: string;\n  userEmail?: string;\n  onLogout: () => void;\n}\n\nconst Header: React.FC<HeaderProps> = ({\n  language,\n  onLanguageChange,\n  cartItemsCount,\n  onCartClick,\n  onAdminClick,\n  onLoginClick,\n  isLoggedIn,\n  userType,\n  userName,\n  userEmail,\n  onLogout,\n}) => {\n  const [clickCount, setClickCount] = React.useState(0);\n  const [lastClickTime, setLastClickTime] = React.useState(0);\n  const [showProfile, setShowProfile] = React.useState(false);\n\n  const handleTitleClick = () => {\n    if (!isLoggedIn) {\n      const now = Date.now();\n      if (now - lastClickTime < 500) { // Less than 500ms between clicks\n        setClickCount(prev => prev + 1);\n        if (clickCount >= 4) { // 5 rapid clicks total\n          onLoginClick();\n          setClickCount(0);\n        }\n      } else {\n        setClickCount(1);\n      }\n      setLastClickTime(now);\n      \n      // Reset counter after 2 seconds of inactivity\n      setTimeout(() => {\n        setClickCount(0);\n      }, 2000);\n    }\n  };\n\n  const texts = {\n    ar: {\n      title: 'ŸÅŸÉŸáÿßŸÜŸä ÿßŸÑŸÉŸàŸäÿ™',\n      subtitle: 'ÿ£ŸÅÿ∂ŸÑ ÿßŸÑŸÅŸàÿßŸÉŸá ŸàÿßŸÑÿÆÿ∂ÿßÿ± ÿßŸÑÿ∑ÿßÿ≤ÿ¨ÿ©',\n      phone: '98899426',\n      cart: 'ÿßŸÑÿ≥ŸÑÿ©',\n      admin: 'ÿßŸÑÿ•ÿØÿßÿ±ÿ©',\n      login: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ'\n    },\n    en: {\n      title: 'Fakahani Kuwait',\n      subtitle: 'Fresh Fruits & Vegetables',\n      phone: '98899426',\n      cart: 'Cart',\n      admin: 'Admin Panel',\n      login: 'Login'\n    }\n  };\n\n  const currentTexts = texts[language];\n\n  return (\n    <header className=\"header\">\n      <div className=\"header-container\">\n        {/* Logo and Title */}\n        <div className=\"header-brand\" onClick={handleTitleClick} style={{cursor: 'pointer'}}>\n          <div className=\"logo-container\">\n            <img \n              src=\"/images/logo.jpeg\" \n              alt={currentTexts.title}\n              className=\"header-logo\"\n              onError={(e) => {\n                // Try PNG if JPEG fails\n                if (e.currentTarget.src.includes('.jpeg')) {\n                  e.currentTarget.src = '/images/logo.png';\n                } else {\n                  // Fallback to text if both fail\n                  e.currentTarget.style.display = 'none';\n                  const fallbackElement = e.currentTarget.nextElementSibling as HTMLElement;\n                  if (fallbackElement) {\n                    fallbackElement.style.display = 'block';\n                  }\n                }\n              }}\n            />\n            <h1 className=\"header-title fallback-title\" style={{display: 'none'}}>{currentTexts.title}</h1>\n          </div>\n          <p className=\"header-subtitle\">{currentTexts.subtitle}</p>\n          <div className=\"header-phone\">\n            <span className=\"phone-icon\">üìû</span>\n            <span className=\"phone-number\">{currentTexts.phone}</span>\n          </div>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"header-nav\">\n          {/* Language Toggle */}\n          <button\n            className=\"language-toggle\"\n            onClick={() => onLanguageChange(language === 'ar' ? 'en' : 'ar')}\n          >\n            {language === 'ar' ? 'EN' : 'ÿπÿ±ÿ®Ÿä'}\n          </button>\n\n          {/* Cart Button */}\n          <button className=\"cart-button\" onClick={onCartClick}>\n            <span className=\"cart-icon\">üõí</span>\n            <span className=\"cart-text\">{currentTexts.cart}</span>\n            {cartItemsCount > 0 && (\n              <span className=\"cart-count\">{cartItemsCount}</span>\n            )}\n          </button>\n\n          {/* User Authentication Section */}\n          {isLoggedIn ? (\n            <div className=\"user-section\">\n              <button \n                className=\"user-button\"\n                onClick={() => setShowProfile(!showProfile)}\n              >\n                <span className=\"user-icon\">\n                  {userType === 'admin' ? 'üëë' : 'üë§'}\n                </span>\n                <span className=\"user-name\">{userName}</span>\n                <span className=\"dropdown-arrow\">‚è∑</span>\n              </button>\n              \n              {showProfile && (\n                <div className=\"profile-dropdown\">\n                  <UserProfile\n                    language={language}\n                    userType={userType!}\n                    userName={userName!}\n                    userEmail={userEmail!}\n                    onLogout={() => {\n                      setShowProfile(false);\n                      onLogout();\n                    }}\n                    onAdminPanel={userType === 'admin' ? () => {\n                      setShowProfile(false);\n                      onAdminClick();\n                    } : undefined}\n                  />\n                </div>\n              )}\n            </div>\n          ) : (\n            <button className=\"login-button\" onClick={onLoginClick}>\n              <span className=\"login-icon\">üîë</span>\n              <span className=\"login-text\">{currentTexts.login}</span>\n            </button>\n          )}\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}